
{% extends 'base.html' %}
{% from 'bootstrap5/form.html' import render_form %}



{% block title %}
    {{ title }}
{% endblock title %}






{% block content %}

    <div style="height: 100vh; padding-top: 70px;" class="row justify-content-center align-items-center">

        {% if form %}
        <div style="width: 400px;">
            <div class="login-container shadow-lg">
                <h2 class="text-center mb-4">Enter User Email</h2>

                <div class="divider"></div>

                <div>
                    {{ render_form(form, button_size='xl', button_style='primary w-100') }}
                </div>

            </div>
        </div>
        {% endif %}



        {% if matches %}

        <div style="width: 1000px;">
            <div class="form-header text-center">
                <h4 class="mb-3 mt-3 pt-3">{{nickname}}'s Week {{week}} Predictions</h4>
            </div>

            <table class="table table-striped border-lg shadow-lg">
                <thead class="table-dark">
                <tr>
                    <th scope="col">Match #</th>
                    <th scope="col">Home Team</th>
                    <th scope="col">Goals</th>
                    <th scope="col"> VS </th>
                    <th scope="col">Goals</th>
                    <th scope="col">Away Team</th>
                </tr>
                </thead>

                <tbody>
                    {% for match, teams in matches.items() %}
                    <tr>
                        <th scope="row">{{ match }}</th>
                        <!-- Convert dictionary values to a set to access the inner/nested items -->
                        {% set teams_list = teams.items() | list %}
                            <td>{{ teams_list[0][0] }}</td> <!-- Home Team Name -->
                            <td>{{ teams_list[0][1] }}</td> <!-- Home Team Score -->
                            <td> -- </td>
                            <td>{{ teams_list[1][1] }}</td> <!-- Away Team Score -->
                            <td>{{ teams_list[1][0] }}</td> <!-- Away Team Name -->
                    </tr>
                    {% endfor %}
                </tbody>
            </table>

            <hr class="mb-3">

        </div>

        {% endif %}

    </div>

{% endblock content %}